SQS - a queue, temporary repo for messages that are waiting processing - pull-based
    -> reliable
    -> oldest service
    For example: Meme Website, Travel Website
    -> decouple components
    -> pull-based
    -> visibility timeout (max 12 hours)

    Standard Queue: random
    FIFO: first in first out, orderly, limited to 300 transaction per second TPS

    long polling vs short polling

Simple Notification Service (SNS) - push-based
    -> push-based deliver (no polling)
    -> simple API
    -> flexible message delivery with multiple transport protocols
    -> Inexpensive, pay-as-you-go model with no up-front costs
    -> point-and-click interface

SNS (push) vs SQS (pull/pull)

Elastic Transcoder
    -> converts media files from their original source format in to different formats that will
        play on smartphones, tablets, PCs, etc.

API gateway
    -> High level
    -> Expose HTTPS endpoints to define a RESTful API
    -> Serverless-ly connect to services like Lambda & DynamoDB
    -> 1 API per target
    -> low costs
    -> scale effortlessly
    -> track usage
    -> throttle request to prevent attacks
    -> Cloudwatch logs
    -> versions API
    
    Configure setups:
        1. Select HTTP methods (set, get, etc.)
        2. Set Security
        3. Choose target (EC2, Lambda, DynamoDB, etc)
        4. Set request and response transformations

    API Caching:
        -> cache endpoint's response
        -> improve latency
        -> TTL
    
    Same origin policy
        -> a web browser permits scripts contained in a first web page to access data in a second only if both web pages have the same origin
        -> prevent Cross-Site Scripting (XSS) attachs

    CORS - one way the server at the other end (not client code in browser) can relax the same origin policy
        -> Cross Origin Resource Sharing
        -> allows restricted resources (fonts) on a web page to be requested from another domain outside the domain from which
            the first resource was served
        -> Error "Origin policy cannot be read at the remote resource?" - Need to enable CORDS on API Gateway

Kenesis:
    3 types:
        1. Kinesis Stream: 
        =============================================================================================
        Producers (data source) ---> Kinesis Stream (shard) -------------> EC2 (consumer) ----------> S3, etc.
                                    (store for 24 hours 7 days retention)
        -> Kineis streams consist of shards
            + Read: 5 transactions per second or max read 2mb per sec
            + Write: max 1000 records per second for write or 1mp per sec
        2. Kinesis Firehose
        Producers (data source) ---> Kinesis Firehose -------------> EC2/Lambda (optional) ----------> S3 ----> REDSHIFT, etc.
                                    (Will do nothing)
        3. Kinesis Analytics
        -> Work on top with Stream/Firehose to analyze data on the fly 
        -> store on S3, RedShift, Elasticsearch Clusters

Amazon Cognito = Web Identity Federation
    Web Identity Federatoin = authenticate with provider like Amazon, Facebook, or Google will receive an 
        authentication code, which can be trade for temporary AWS security credentials
    -> sign-up + sign-in
    -> access for guest user
    -> act as an Identity Broker between your app and Web ID Provider, no addition code
    -> synchronizes users data for multiple devices
    -> RECOMMENDED for all mobile applications AWS services

    User protocols
    -> JSON Web Token (JWT)
    -> email address, username, password 

    Identity Pools
    -> access AWS service

    SNS notifination

Event Processing Patterns
-> pub/sub pattern - facilitated by SNS
-> What service support DLQ: SNS, SQS, Lambda
-> Fanout pattern - SNS
    Event-Driven Architecture

    Dead-Letter Queue (DLQ)
        -> similar to lost and found
        SNS: failled to deliver message will be withheld
        SQS: message sent to SQS that exceed the maxReceiveCount are sent to a DLQ (another SQS queue)
        Lambda: 
    Fanout Pattern

    S3 Event Notifications

SUMMARY EXAM TIPS
-> SQS = de-couple 
-> SQS is pull-based
-> SQS message are 256KB, bigger size will be stored in S3
-> SQS message keep in queue 1min to 14 days, default retention period is 4 days
-> Standard SQS: are not guaranteed, can be delivered more than once
-> FIFO SQS: strictly maintained, deliver once
-> Visibility Time Out = amount of time that message is invisible in SQS queue after reader picks up that message. Maximum 12 hours
-> SQS long polling = doesn't return response until message arrives in queue or time out
-> SQS short polling = return immediately
-> SQS vs SWF (Simple Workflow): 
    + retention period 14 days  vs  1 year
    + message-oriented API      vs  task-oriented API (human)
    + duplicated messages       vs  task is assigned only once, never duplicated
    + need to be implemented    vs  track tasks
-> SWF Actors (human)
    + Workflow Starters: application can initiate a workflow
    + Deciders: control flow of activity task, in case of fail/suceed, decider decides what to do next
    + Activity Workers: carry out activity task
-> SNS Benefits = pushed
-> API Gateway:
    + high level
    + caching = increase performance
    + low cost + scale auto
    + CORS enable for Javascript/AJAX that uses multiple domains with API Gateway
-> Kinesis Streams: shards
-> Kinesis Firehose: 
-> Kinesis Analytic:
-> Cognito = Web Identity Provider