=======
AWS Active Directory Service
    -> Family of managed services
    -> Conect AWS resources with on-prem AD
    -> Standalone directory on cloud
    -> use existing corporate credentials
    -> SSO to any domain-joined EC2 instance
=======
I- Microsoft Compatible Services: AWS Managed Microsoft Active Directory, Simple Active Directory, Active Directory Connector
    1. AWS Managed Microsoft AD
        -> AD-DC runs on Windows Server
        -> AD-DC is on a different VPC from Customer VPC
        -> AD Trust: extend to on-prem AD
        
        ->Shared Responsibility:
        AWS                             Customer
        ===============================================================
        Multi-AZ deployment             Users, groups, GPOs
        Patch, monitor, recover         Standard AD Tools
        Instance rotation               Scale out DCs
        Backup (Snapshot, restore)      Trusts
                                        Certificate authorities (LDAPS)
                                        Federation

    2. Simple AD (baby brother)
    -> Standalone managed directory
    -> basic AD features
    -> Sizes: small (less than 500 users), large (less than 5000 users)
    -> easier to manage EC2
    -> support Linux workloads need LDAP
    -> DOES NOT support Trusts => can't join on-prem AD)

    3. AD Connector
    -> a directory gateway (proxy) to extend on-prem AD
    -> use to:
        + on-prem users login to aws by AD crendential
        + avoid caching information in the cloud
        + join EC2 instance to existing AD domain
    -> scale across multiple AD connectors
=======
II- Microsoft incompatible services: Cloud Directory, Amazon Cognito User Pools
    1. Cloud Directory
        -> for developers
        -> fully managed
        -> use cases: org charts, course catalogs, device registries

    2. Amazon Cognito User Pools
        -> managed user directory for SaaS applications
        -> sign-up/sign-in for web or mobile
        -> social media identites
=======
IAM Policies
    1. Amazon Resource Name (ARN)
        Start with = arn:partition:service:region:account_id:
        End with = 
            resrouce
            resource_type/resource
            resource_type/resource/qualifier
            resource_type/resource:qualifier
            resource_type:resource
            resource_type:resource:qualifier
        Example:
            arn:aws:ec2:us-east-1:123456789012:instance/*
    2. Policies
        -> JSON document defines Permissions
        -> list of statement
        -> Identity policy (who), Resource policy (do what)
        -> Attach/detach
    
    -> not explicitly allowed == implicitly denied
    -> explicit deny > everthing else
    -> AWS managed policy: uneditable policy, created by AWS for convenience
    -> Customer manage policy: customer created, can be edit, delete, create new

    3. Permission Boundaries
        -> use to delegate/limit administration to users
        -> prevent priviledge escalation or unnecessarily broad Permissions
        -> control maximum permissions on IAM policy can grant

======
AWS Resource Access Manager (RAM)
    -> to share resource access across other account
    -> to individual accounts
    -> to Organization Accouts
    
======
AWS Single Sign-on (SSO)
    -> use AD credentials to login to third party applications
    -> SAML 2.0 - Security Assertion Markup Language

=======
SUMARY:
    -> What is Active Directory: what is the relationship between Microsoft to AWS
    -> Connect AWS resources with on-premises AD
    -> SSO to any domain-joined Ec2 instance
    -> AWS Managed Microsoft AD
    -> AD Trust
    -> AWS vs customer Responsibility
    -> Simple AD: Does not support Trusts
    -> AD connectors
    -> Cloud Directory: for developer
    -> Cognito user pools: for mobile and web
    -> AD vs Non-AD compatible services
    -> ARM
    -> IAM policy structure
    -> Effect/action/resource
    -> AWS managed vs customer managed
    -> Permission boundaries
    -> Resource sharing between accounts
    -> Individual accounts and AWS Organization
    -> Types of resources you can share
    -> Single Sign-on (SSO): Centrally manage access: Gsuite Office 365, Salesforce
        ->  existing identities
        -> account-level permission
        -> SAML 2.0